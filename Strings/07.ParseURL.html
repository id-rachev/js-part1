<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Parse URL</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <div id="js-console"></div>
    <script src="scripts/js-console.js"></script>
    <script>
        // Write a script that parses an URL address given in the format:
        // and extracts from it the [protocol], [server] and [resource] elements. 
        // Return the elements in a JSON object. 

        var testStr = 'http://www.devbg.org/forum/index.php';

        function returJASONobj(url) {
            var protocol = url.substring(0, url.indexOf(':', 1));
            var server = url.substring((url.indexOf(':', 1) + 3), url.indexOf('/', (url.indexOf(':', 1) + 3)));
            var resourse = url.substring(url.indexOf('/', (url.indexOf(':', 1) + 3)));
            return {
                protocol: protocol,
                server: server,
                resource: resourse,
                toString: function () {
                    return 'protocol: ' + this.protocol +
                          ',\r\nserver: ' + this.server +
                          ',\r\nresource: ' + this.resource;
                }
            }
        }
        jsConsole.writeLine(returJASONobj(testStr));
        console.log(returJASONobj(testStr));

    </script>
</body>
</html>
